window.Tlite=new function(){function f(c){for(var a=c.split("."),g=e[a.shift()],m;void 0!=g&&!(m=g.call)&&a.length;)g=g[a.shift()];return m?(a=[e,f(a.join("."))],g.apply(this,a)):g||c}function j(c){var a=e,c=c.replace(/<tpl id:(.*) (.*?):(.*?)>(.*?)<\/tpl id:\1>/g,function(a,c,h,d,i){if("if"==h){var b;b=d.split(" ");d=""+b[1];b[1]&&!k[d]&&(k[d]=new Function("x","y","return x "+b[1]+" y"));b[1]?d=k[d](f(b[0]),f(b[2])):(d="!"!=b[0][0],b[0]=d?b[0]:b[0].substr(1),d=f(b[0])==d);i=d?j(i):""}else{a="";c=d.match(/(\w+)(?:(.*))/);d=f(c[1]);c=(c[2]||"")+"|value|key|top";for(b in d)if(d.hasOwnProperty(b)&&0>c.search(b))h="object"==typeof d[b]?d[b]:{},h.value=d[b],h.key=b,h.top=n,e=h,a+=j(i);i=a}return i});e=a;return l.find(c)}var l=this,n,e,k={};l.find=function(c,a){a&&(e=a);return c.replace(/\{(.+?)\}/g,function(a,c){return f(c)})};l.parse=function(c,a){e=n=a;return j(c)}};