window.Tlite=new function(){function h(a){for(var c=a.split("."),b=d[c.shift()],f;void 0!=b&&!(f=b.call)&&c.length;)b=b[c.shift()];return f?(c=[d,h(c.join("."))],b.apply(this,c)):b||a}function l(a){return a.replace(/\{if (.*?)\}(.*?)\{\/if \1\}/g,function(c,b,a,e,d){e=a.split(m);e[1]?(e=e.pop(),a=a.split(m+e)[0]):e=0;b=b.split(" ");d=""+b[1];b[1]&&!i[d]&&(i[d]=new Function("x","y","return x "+b[1]+" y"));return(d=b[1]?i[d](h(b[0]),h(b[2])):h(b[0]))?j(a):e?j(e):""})}function n(a){return a.replace(/\{for (.*?)(\|(.*?))?\}(.+)\{\/for\}/g,function(a,b,f,e,i){var a=h(b),b="",g,e=(e||"")+"|value|key|top";for(g in a)if(a.hasOwnProperty(g)&&0>e.search(g))f="object"==typeof a[g]?a[g]:{},f.value=a[g],f.key=g,f.top=o,d=f,b+=j(i);return b})}function j(a){var c=d;a.search("{if")<a.search("{for")?a=n(l(a)):a=l(n(a));d=c;return k.find(a)}var k=this,o,d,m="{else}",i={};k.find=function(a,c){c&&(d=c);return a.replace(/\{(.+?)\}/g,function(a,c){return h(c)})};k.parse=function(a,c){d=o=c;return j(a)}};