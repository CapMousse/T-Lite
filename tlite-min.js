window.Tlite=new function(){function h(a){for(var e=a.split("."),b=c[e.shift()];void 0!=b&&e.length;)b=b[e.shift()];return void 0==b?a:b.call?b.call(this,c):b}function l(a){return a.replace(/\{if (.*?)\}(.*?)\{\/if\}/g,function(a,b,f,d,c){d=f.split(m);d[1]?(d=d.pop(),f=f.split(m+d)[0]):d=0;b=b.split(" ");c=""+b[1];b[1]&&!i[c]&&(i[c]=new Function("x","y","return x "+b[1]+" y"));return(c=b[1]?i[c](h(b[0]),h(b[2])):h(b[0]))?j(f):d?j(d):""})}function n(a){return a.replace(/\{for (.*?)(\|(.*?))?\}(.+)\{\/for\}/g,function(a,b,f,d,i){var a=h(b),b="",g,d=(d||"")+"|value|key";for(g in a)if(a.hasOwnProperty(g)&&0>d.search(g))f="object"==typeof a[g]?a[g]:{},f.value=a[g],f.key=g,f.top=o,c=f,b+=j(i);return b})}function j(a){var e=c;a.search("{if")<a.search("{for")?a=n(l(a)):a=l(n(a));c=e;return k.find(a)}var k=this,o,c,m="{else}",i={};k.find=function(a,e){e&&(c=e);return a.replace(/\{(.+?)\}/g,function(a,c){return h(c)})};k.parse=function(a,e){c=o=e;return j(a)}};